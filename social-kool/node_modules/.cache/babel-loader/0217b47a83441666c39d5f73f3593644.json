{"ast":null,"code":"import _slicedToArray from \"/Users/agustdmybae/Desktop/web-projects/social-kool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/agustdmybae/Desktop/web-projects/social-kool/src/pages/Signin.js\";\nimport React from 'react';\nimport { Menu, Form, Container, Message } from 'semantic-ui-react';\nimport firebase from '../utils/firebase';\nimport 'firebase/compat/auth';\nimport { useNavigate } from 'react-router-dom';\nexport default function Signin() {\n  var navigate = useNavigate();\n  var _React$useState = React.useState(\"register\"),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    activeItem = _React$useState2[0],\n    setActiveItem = _React$useState2[1];\n  var _React$useState3 = React.useState(\"\"),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    email = _React$useState4[0],\n    setEmail = _React$useState4[1];\n  var _React$useState5 = React.useState(\"\"),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    password = _React$useState6[0],\n    setPassword = _React$useState6[1];\n  var _React$useState7 = React.useState(\"\"),\n    _React$useState8 = _slicedToArray(_React$useState7, 2),\n    errorMessage = _React$useState8[0],\n    setErrorMessage = _React$useState8[1];\n  var _React$useState9 = React.useState(false),\n    _React$useState10 = _slicedToArray(_React$useState9, 2),\n    isLoading = _React$useState10[0],\n    setIsLoading = _React$useState10[1];\n  function onSubmit() {\n    if (activeItem === 'register') {\n      firebase.auth().createUserWithEmailAndPassword(email, password).then(function () {\n        navigate('/');\n        setIsLoading(false);\n      }).catch(function (error) {\n        switch (error.code) {\n          case \"auth/email-already-in-use\":\n            setErrorMessage(\"信箱已註冊\");\n            break;\n          case \"auth/invalid-email\":\n            setErrorMessage(\"信箱格式不正確\");\n            break;\n          case \"auth/weak-password\":\n            setErrorMessage(\"密碼強度不足（最少6字）\");\n            break;\n          default:\n        }\n      });\n    } else if (activeItem === 'signin') {\n      firebase.auth().signInWithEmailAndPassword(email, password).then(function () {\n        navigate('/');\n      }).catch(function (error) {\n        switch (error.code) {\n          case \"auth/user-not-found\":\n            setErrorMessage(\"信箱不存在\");\n            break;\n          case \"auth/invalid-email\":\n            setErrorMessage(\"信箱格式不正確\");\n            break;\n          case \"auth/wrong-password\":\n            setErrorMessage(\"密碼錯誤\");\n            break;\n          default:\n        }\n      });\n    }\n  }\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Menu, {\n    widths: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    active: activeItem === \"register\",\n    onClick: function onClick() {\n      return setActiveItem(\"register\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \"\\u8A3B\\u518A\"), /*#__PURE__*/React.createElement(Menu.Item, {\n    active: activeItem === \"signin\",\n    onClick: function onClick() {\n      return setActiveItem(\"signin\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, \"\\u767B\\u5165\")), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Input, {\n    label: \"\\u4FE1\\u7BB1\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    placeholder: \"\\u8ACB\\u8F38\\u5165\\u4FE1\\u7BB1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Form.Input, {\n    label: \"\\u5BC6\\u78BC\",\n    value: password,\n    onChange: function onChange(p) {\n      return setPassword(p.target.value);\n    },\n    placeholder: \"\\u8ACB\\u8F38\\u5165\\u5BC6\\u78BC\",\n    type: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }), errorMessage && /*#__PURE__*/React.createElement(Message, {\n    negative: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 34\n    }\n  }, errorMessage), /*#__PURE__*/React.createElement(Form.Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, activeItem === \"register\" && \"註冊\", activeItem === \"signin\" && \"登入\")));\n}","map":{"version":3,"names":["React","Menu","Form","Container","Message","firebase","useNavigate","Signin","navigate","_React$useState","useState","_React$useState2","_slicedToArray","activeItem","setActiveItem","_React$useState3","_React$useState4","email","setEmail","_React$useState5","_React$useState6","password","setPassword","_React$useState7","_React$useState8","errorMessage","setErrorMessage","_React$useState9","_React$useState10","isLoading","setIsLoading","onSubmit","auth","createUserWithEmailAndPassword","then","catch","error","code","signInWithEmailAndPassword","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","widths","Item","active","onClick","Input","label","value","onChange","e","target","placeholder","p","type","negative","Button"],"sources":["/Users/agustdmybae/Desktop/web-projects/social-kool/src/pages/Signin.js"],"sourcesContent":["import React from 'react';\nimport { Menu, Form, Container, Message } from 'semantic-ui-react';\nimport firebase from '../utils/firebase';\nimport 'firebase/compat/auth';\nimport {useNavigate} from 'react-router-dom';\n\n\n\nexport default function Signin(){\n    const navigate = useNavigate();\n    const [activeItem, setActiveItem] = React.useState(\"register\");\n    const [email, setEmail] = React.useState(\"\");\n    const [password, setPassword] = React.useState(\"\");\n    const [errorMessage, setErrorMessage] = React.useState(\"\");\n    const [isLoading, setIsLoading] = React.useState(false);\n\n    function onSubmit(){\n        if (activeItem === 'register'){\n            firebase\n            .auth()\n            .createUserWithEmailAndPassword(email, password)\n            .then(()=>{\n                navigate('/');\n                setIsLoading(false);\n            })\n            .catch((error)=>{\n                switch(error.code){\n                    case \"auth/email-already-in-use\":\n                        setErrorMessage(\"信箱已註冊\");\n                        break;\n                    case \"auth/invalid-email\":\n                        setErrorMessage(\"信箱格式不正確\");\n                        break;\n                    case \"auth/weak-password\":\n                        setErrorMessage(\"密碼強度不足（最少6字）\");\n                        break;\n                    default:\n                }\n            });\n        } else if (activeItem === 'signin'){\n            firebase\n            .auth()\n            .signInWithEmailAndPassword(email, password)\n            .then(()=>{\n                navigate('/');\n            })\n            .catch((error)=>{\n                switch(error.code){\n                    case \"auth/user-not-found\":\n                        setErrorMessage(\"信箱不存在\");\n                        break;\n                    case \"auth/invalid-email\":\n                        setErrorMessage(\"信箱格式不正確\");\n                        break;\n                    case \"auth/wrong-password\":\n                        setErrorMessage(\"密碼錯誤\");\n                        break;\n                    default:\n                }\n            });\n        }\n    }\n    \n    return (\n        <Container>\n            <Menu widths=\"2\">\n                <Menu.Item active={activeItem===\"register\"} onClick={()=> setActiveItem(\"register\")}>註冊</Menu.Item>\n                <Menu.Item active={activeItem===\"signin\"} onClick={()=> setActiveItem(\"signin\")}>登入</Menu.Item>\n            </Menu>\n            <Form onSubmit={onSubmit}>\n                <Form.Input label=\"信箱\" value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"請輸入信箱\"></Form.Input>\n                <Form.Input label=\"密碼\" value={password} onChange={(p) => setPassword(p.target.value)} placeholder=\"請輸入密碼\" type=\"password\"></Form.Input>\n                {errorMessage && <Message negative>{errorMessage}</Message>}\n                <Form.Button>\n                    {activeItem===\"register\" && \"註冊\"}\n                    {activeItem===\"signin\" && \"登入\"}\n                </Form.Button>\n            </Form>\n        </Container>\n\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}